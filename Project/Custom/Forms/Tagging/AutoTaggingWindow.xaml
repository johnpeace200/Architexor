<Window x:Class="Architexor.Forms.AutoTaggingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:local="clr-namespace:Architexor.Forms"
        mc:Ignorable="d"
				Title="Auto Tagging"
				Width="500" Height="650"
				WindowStartupLocation="CenterScreen"
				ResizeMode="CanResize"
				MinWidth="500" MinHeight="650"
				Loaded="Window_Loaded"
				FontFamily="Arial"
				Background="#F0F0F0"
				>
	<Window.Resources>
		<!-- Buttons -->
		<Style x:Key="HighlightButtonStyle" TargetType="Button">
			<Setter Property="Background" Value="LightGray"/>
			<Setter Property="Foreground" Value="Black"/>
			<Setter Property="FontSize" Value="10"/>
			<Setter Property="VerticalContentAlignment" Value="Center"/>
			<Setter Property="BorderBrush" Value="Gray"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="6,2"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}"
                      BorderBrush="{TemplateBinding BorderBrush}"
                      BorderThickness="{TemplateBinding BorderThickness}"
                      CornerRadius="4">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Style.Triggers>
				<Trigger Property="IsPressed" Value="True">
					<Setter Property="Background" Value="#FF007ACC"/>
					<!-- Highlight color -->
					<!--<Setter Property="Foreground" Value="White"/>-->
				</Trigger>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="#FFD0E7FF"/>
				</Trigger>
			</Style.Triggers>
		</Style>
		
		<!-- ComboBoxes -->
		<Style x:Key="StandardComboBoxStyle" TargetType="ComboBox">
			<Setter Property="HorizontalAlignment" Value="Left"/>
			<Setter Property="Width" Value="120"/>
			<Setter Property="Margin" Value="10,5,0,0"/>
		</Style>
		
		<!-- GroupBoxes -->
		<Style x:Key="StandardGroupBoxStlye" TargetType="GroupBox">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="DarkGray"/>
			<Setter Property="BorderThickness" Value="1"/>
		</Style>
		<Style TargetType="ListBoxItem" x:Key="NoHighlightListBoxItemStyle">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FocusVisualStyle" Value="{x:Null}"/>
			<Setter Property="Padding" Value="2"/>
			<Style.Triggers>
				<Trigger Property="IsSelected" Value="True">
					<Setter Property="Background" Value="Transparent"/>
				</Trigger>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="Transparent"/>
				</Trigger>
			</Style.Triggers>
		</Style>
	</Window.Resources>
	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="4*"/>
			<RowDefinition Height="6*"/>
			<RowDefinition Height="Auto"/> <!-- Buttons -->
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="10"/>
			<ColumnDefinition Width="280"/>
		</Grid.ColumnDefinitions>
		<!-- Left Panel (Views)-->
		<GroupBox Header="Views" Grid.Row="0" Grid.Column="0" Style="{StaticResource StandardGroupBoxStlye}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="*"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>
				<ListBox x:Name="lstViews" Grid.Row="0" SelectionMode="Multiple" Margin="0,5,0,0"/>
				<Button x:Name="btnSelectViews" Grid.Row="1" Content="Select" Height="25" Style="{StaticResource HighlightButtonStyle}" FontSize="14" Margin="0,5" Click="btnSelectViews_Click"/>
			</Grid>
		</GroupBox>
		<!-- Common Setting Panel Panel (Settings) -->
		<GroupBox Header="Common" Grid.Row="0" Grid.Column="2" Style="{StaticResource StandardGroupBoxStlye}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>
				<CheckBox Grid.Row="0" x:Name="chkConsiderLinked" Content="Consider Linked Model" Margin="0,5,0,0" Visibility="Collapsed"/>
				<CheckBox Grid.Row="1" x:Name="chkMultiTagging" Content="Multi Tagging" Margin="0,5,0,0" Visibility="Collapsed"/>
				<CheckBox Grid.Row="2" x:Name="chkMultiLeaders" Content="Merge Leaders" Margin="0,5,0,0" Visibility="Collapsed"/>
				<CheckBox Grid.Row="3" x:Name="chkAvoidOverlap" Content="Avoid Overlap" IsChecked="True" Margin="0,5,0,0"/>
				<ListBox Grid.Row="4" x:Name="lstOverlapConsiderCategories" IsEnabled="{Binding IsChecked, ElementName=chkAvoidOverlap}" Width="150" HorizontalAlignment="Left" SelectionMode="Multiple" ItemContainerStyle="{StaticResource NoHighlightListBoxItemStyle}" Margin="0,10">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<CheckBox Content="{Binding}" IsChecked="{Binding RelativeSource={RelativeSource AncestorType=ListBoxItem}, Path=IsSelected}"/>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
			</Grid>
		</GroupBox>
		
		<GroupBox Header="Specification" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" Style="{StaticResource StandardGroupBoxStlye}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="*"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="10"/>
					<ColumnDefinition Width="275"/>
				</Grid.ColumnDefinitions>
				<ListBox x:Name="lstCategories" Grid.Row="0" Grid.Column="0" SelectionMode="Single" Margin="0,5,0,0" SelectionChanged="lstCategories_SelectionChanged"/>

				<StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0,5,0,5">
					<Button x:Name="btnAddCategory" Grid.Row="1" Content="➕" Width="25" Height="25" Style="{StaticResource HighlightButtonStyle}" Click="btnAddCategory_Click"/>
					<Button x:Name="btnUpCategory" Grid.Row="1" Content="↑" Width="25" Height="25" Style="{StaticResource HighlightButtonStyle}" Margin="5,0,0,0" Click="btnUpCategory_Click"/>
					<Button x:Name="btnDownCategory" Grid.Row="1" Content="↓" Width="25" Height="25" Style="{StaticResource HighlightButtonStyle}" Margin="5,0,0,0" Click="btnDownCategory_Click"/>
					<Button x:Name="btnRemoveCategory" Grid.Row="1" Content="➖" Width="25" Height="25" Style="{StaticResource HighlightButtonStyle}" Margin="5,0,0,0" Click="btnRemoveCategory_Click"/>
				</StackPanel>
				<Grid Grid.Row="0" Grid.Column="2" Grid.RowSpan="2">
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>
					<Grid x:Name="gridTagWall" Visibility="Visible" Margin="0,5,0,0">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="*"/>
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="120"/>
							<ColumnDefinition Width="250"/>
						</Grid.ColumnDefinitions>

						<TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbWallTagType" Grid.Row="0" Grid.Column="1" Width="120" HorizontalAlignment="Left" Margin="10,5,0,0"/>

						<TextBlock Grid.Row="1" Grid.Column="0" Text="End Type:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbWallEndType" Grid.Row="1" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<TextBlock Grid.Row="2" Grid.Column="0" Text="Heading Direction:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0" Visibility="Collapsed"/>
						<ComboBox x:Name="cmbWallHeadingDirection" Grid.Row="2" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}" Visibility="Collapsed"/>

						<TextBlock Grid.Row="3" Grid.Column="0" Text="Orientation:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbWallOrientation" Grid.Row="3" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<TextBlock Grid.Row="4" Grid.Column="0" Text="Max Offset:" HorizontalAlignment="Right" VerticalAlignment="Center"  Margin="10,5,0,0"/>
						<TextBox x:Name="txtWallMaxOffset" Grid.Row="4" Grid.Column="1" Width="50" HorizontalAlignment="Left" Margin="10,5,0,0"/>
						<CheckBox x:Name="chkWallShowLeader" Grid.Row="5" Grid.Column="1" Content="Show Leader" Margin="10,5,0,0" />

						<TextBlock Grid.Row="7" Grid.Column="0" Text="Min Wall Length:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
						<TextBox x:Name="txtMinWallLength" Grid.Row="7" Grid.Column="1" Width="50" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,5,0,0"/>

						<TextBlock Grid.Row="8" Grid.Column="0" Text="Filter by Wall Function:" HorizontalAlignment="Right" Margin="0,5,0,0" />
						<ListBox x:Name="lstWallFunction" Grid.Row="8" Grid.Column="1" Width="120" Height="120" HorizontalAlignment="Left" VerticalAlignment="Top" SelectionMode="Multiple" ItemContainerStyle="{StaticResource NoHighlightListBoxItemStyle}"  Margin="10,5,0,10">
							<ListBox.ItemTemplate>
								<DataTemplate>
									<CheckBox Content="{Binding}" IsChecked="{Binding RelativeSource={RelativeSource AncestorType=ListBoxItem}, Path=IsSelected}" />
								</DataTemplate>
							</ListBox.ItemTemplate>
						</ListBox>
					</Grid>
					<Grid x:Name="gridTagDoor" Visibility="Collapsed" Margin="0,5,0,0">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="120"/>
							<ColumnDefinition Width="250"/>
						</Grid.ColumnDefinitions>
						
						<TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbDoorTagType" Grid.Row="0" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>
						
						<TextBlock Grid.Row="1" Grid.Column="0" Text="End Type:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbDoorEndType" Grid.Row="1" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>
						
						<TextBlock Grid.Row="2" Grid.Column="0" Text="Heading Direction:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0" Visibility="Collapsed"/>
						<ComboBox x:Name="cmbDoorHeadingDirection" Grid.Row="2" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}" Visibility="Collapsed"/>

						<TextBlock Grid.Row="3" Grid.Column="0" Text="Orientation:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbDoorOrientation" Grid.Row="3" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<TextBlock Grid.Row="4" Grid.Column="0" Text="Max Offset:" HorizontalAlignment="Right" VerticalAlignment="Center"  Margin="10,5,0,0"/>
						<TextBox x:Name="txtDoorMaxOffset" Grid.Row="4" Grid.Column="1" Width="50" HorizontalAlignment="Left" Margin="10,5,0,0"/>
						<CheckBox x:Name="chkDoorShowLeader" Grid.Row="5" Grid.Column="1" Content="Show Leader" Margin="10,5,0,0" />
					</Grid>
					<Grid x:Name="gridTagWindow" Visibility="Collapsed" Margin="0,5,0,0">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="120"/>
							<ColumnDefinition Width="250"/>
						</Grid.ColumnDefinitions>

						<TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbWindowTagType" Grid.Row="0" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<TextBlock Grid.Row="1" Grid.Column="0" Text="End Type:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbWindowEndType" Grid.Row="1" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<TextBlock Grid.Row="2" Grid.Column="0" Text="Heading Direction:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0" Visibility="Collapsed"/>
						<ComboBox x:Name="cmbWindowHeadingDirection" Grid.Row="2" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}" Visibility="Collapsed"/>

						<TextBlock Grid.Row="3" Grid.Column="0" Text="Orientation:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbWindowOrientation" Grid.Row="3" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<TextBlock Grid.Row="4" Grid.Column="0" Text="Max Offset:" HorizontalAlignment="Right" VerticalAlignment="Center"  Margin="10,5,0,0"/>
						<TextBox x:Name="txtWindowMaxOffset" Grid.Row="4" Grid.Column="1" Width="50" HorizontalAlignment="Left" Margin="10,5,0,0"/>
						<CheckBox x:Name="chkWindowShowLeader" Grid.Row="5" Grid.Column="1" Content="Show Leader" Margin="10,5,0,0" />
					</Grid>
					<Grid x:Name="gridTagRoom" Visibility="Collapsed" Margin="0,5,0,0">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="120"/>
							<ColumnDefinition Width="250"/>
						</Grid.ColumnDefinitions>

						<TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbRoomTagType" Grid.Row="0" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<TextBlock Grid.Row="3" Grid.Column="0" Text="Orientation:" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,0"/>
						<ComboBox x:Name="cmbRoomOrientation" Grid.Row="3" Grid.Column="1" Style="{StaticResource StandardComboBoxStyle}"/>

						<CheckBox x:Name="chkRoomShowLeader" Grid.Row="5" Grid.Column="1" Content="Show Leader" Margin="10,5,0,0" />
					</Grid>
				</Grid>
			</Grid>
		</GroupBox>

		<!-- Bottom Buttons -->
		<StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
			<Button x:Name="btnInitRectCache" Content="Init Rect Cache" Width="100" Height="25" Margin="0,0,10,0" Visibility="Collapsed" Click="btnInitRectCache_Click"/>
			<Button x:Name="btnShowCache" Content="Show Cache" Width="100" Height="25" Margin="0,0,10,0" Visibility="Collapsed" Click="btnShowCache_Click"/>
			<Button x:Name="btnGenerateTags" Content="Generate" Width="100" Height="25" Margin="0,0,10,0" Click="btnGenerateTags_Click"/>
			<Button x:Name="btnCancel" Content="Cancel" Width="100" Height="25" IsCancel="True" Click="btnCancel_Click"/>
		</StackPanel>
	</Grid>
</Window>
